<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—É–ø–∞ —Ö–∞—Ä—á–æ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg-gradient: radial-gradient(circle at top, #fdf7f3 0, #f3e6de 26%, #e6e2f3 65%, #d8dde9 100%);
      --card-bg: rgba(255, 255, 255, 0.92);
      --accent: #c23b22;
      --accent-soft: rgba(194, 59, 34, 0.12);
      --accent-strong: #ff6a3c;
      --text-main: #1f130f;
      --muted: #8a7e78;
      --border-subtle: #e6d7cd;
      --radius-xl: 26px;
      --shadow-soft: 0 22px 50px rgba(15, 8, 2, 0.22);
      --shadow-soft-small: 0 10px 25px rgba(0, 0, 0, 0.12);
      --transition-fast: 0.18s ease-out;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    html, body { height: 100%; }

    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif;
      background: var(--bg-gradient);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      color: var(--text-main);
      -webkit-font-smoothing: antialiased;
      transition: background 0.3s ease, color 0.3s ease;
    }

    .app-shell { width: 100%; max-width: 560px; margin: 0 auto; }

    .card-frame {
      padding: 2px;
      border-radius: calc(var(--radius-xl) + 4px);
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(194, 59, 34, 0.32));
      box-shadow: var(--shadow-soft);
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      padding: 22px 18px 18px;
      backdrop-filter: blur(26px);
      transition: background 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    }

    @media (min-width: 480px) {
      .card { padding: 26px 26px 22px; }
    }

    .header-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }

    .badge-strip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--muted);
      background: var(--accent-soft);
      border-radius: 999px;
      padding: 5px 11px;
    }

    .badge-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 0 4px rgba(194, 59, 34, 0.2);
    }

    .theme-toggle-wrap {
      display: flex;
      justify-content: flex-end;
      flex: 1;
    }

    .theme-toggle {
      position: relative;
      border: none;
      border-radius: 999px;
      padding: 4px 10px;
      width: 92px;
      height: 32px;
      background: rgba(255, 255, 255, 0.8);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
      display: inline-flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
      transition: background 0.25s ease, box-shadow 0.25s ease, transform 0.12s ease;
    }

    .theme-toggle:active {
      transform: translateY(1px);
      box-shadow: 0 5px 12px rgba(0, 0, 0, 0.22);
    }

    .theme-thumb {
      position: absolute;
      top: 4px;
      left: 4px;
      width: 40px;
      height: 24px;
      border-radius: 999px;
      background: #ffffff;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
      transform: translateX(40px); /* –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞, —Å–ø—Ä–∞–≤–∞ (‚òÄÔ∏è) */
      transition: transform 0.25s ease;
    }

    .theme-option {
      position: relative;
      z-index: 1;
      font-size: 15px;
      line-height: 1;
      opacity: 0.55;
      transition: opacity 0.25s ease;
    }

    .theme-toggle.is-dark .theme-thumb {
      transform: translateX(0); /* —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ ‚Äî —Å–ª–µ–≤–∞ (üåô) */
    }

    .theme-toggle.is-dark .theme-option-left {
      opacity: 1;
    }

    .theme-toggle.is-dark .theme-option-right {
      opacity: 0.4;
    }

    .theme-toggle:not(.is-dark) .theme-option-left {
      opacity: 0.4;
    }

    .theme-toggle:not(.is-dark) .theme-option-right {
      opacity: 1;
    }

    .header-row {
      display: flex;
      align-items: center;
      gap: 14px;
      margin-bottom: 14px;
      margin-top: 4px;
    }

    .logo-pill {
      width: 46px;
      height: 46px;
      border-radius: 18px;
      background: radial-gradient(circle at 30% 25%, #ffe7da 0, #ffb894 30%, #ff8a5a 72%, #e05833 100%);
      box-shadow: var(--shadow-soft-small);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .logo-pill::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(145deg, rgba(255, 255, 255, 0.78), transparent 45%);
      mix-blend-mode: screen;
      pointer-events: none;
    }

    .logo-icon {
      width: 24px;
      height: 24px;
      border-radius: 9px;
      border: 1.5px solid rgba(255, 255, 255, 0.9);
      box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.25);
      position: relative;
      overflow: hidden;
    }

    .logo-icon::before,
    .logo-icon::after {
      content: "";
      position: absolute;
      inset: 4px;
      border-radius: 6px;
      border: 1px solid rgba(255, 255, 255, 0.9);
    }

    .header-text-main h1 {
      font-size: 22px;
      line-height: 1.18;
      letter-spacing: -0.02em;
      margin-bottom: 4px;
    }

    .header-subtitle {
      font-size: 13px;
      color: var(--muted);
    }

    .section { margin-bottom: 16px; }

    .section-note {
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 10px;
    }

    .volume-row {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }

    .volume-label {
      font-size: 14px;
      color: var(--text-main);
      font-weight: 500;
    }

    .volume-input-wrap {
      flex: 1;
      min-width: 140px;
      display: flex;
      align-items: center;
      gap: 6px;
      background: #f7f1ec;
      border-radius: 999px;
      padding: 4px 10px 4px 12px;
      border: 1px solid var(--border-subtle);
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.9);
    }

    .volume-input-wrap input {
      border: none;
      outline: none;
      background: transparent;
      font-size: 16px;
      width: 100%;
      text-align: right;
      color: var(--text-main);
      -moz-appearance: textfield;
    }

    .volume-input-wrap input::-webkit-outer-spin-button,
    .volume-input-wrap input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .volume-unit {
      font-size: 13px;
      color: var(--muted);
      padding-left: 4px;
    }

    .volume-helper {
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 10px;
    }

    .slider-wrap { margin-bottom: 0; }

    .slider-wrap input[type="range"] {
      width: 100%;
      -webkit-appearance: none;
      height: 6px;
      border-radius: 999px;
      background: #eee0d9;
      outline: none;
      position: relative;
    }

    .slider-wrap input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 24px;
      height: 24px;
      border-radius: 999px;
      background: #ffffff;
      border: 2px solid var(--accent-strong);
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.26);
      margin-top: -9px;
      transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    }

    .slider-wrap input[type="range"]::-webkit-slider-thumb:active {
      transform: scale(1.05);
      box-shadow: 0 5px 14px rgba(0, 0, 0, 0.35);
    }

    .slider-wrap input[type="range"]::-moz-range-thumb {
      width: 24px;
      height: 24px;
      border-radius: 999px;
      background: #ffffff;
      border: 2px solid var(--accent-strong);
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.26);
    }

    .ingredients-card {
      border-radius: 20px;
      background: #fdf7f3;
      border: 1px solid var(--border-subtle);
      padding: 14px 12px 10px;
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.9);
      transition: background 0.3s ease, border-color 0.3s ease;
    }

    @media (min-width: 480px) {
      .ingredients-card { padding: 16px 16px 12px; }
    }

    .ingredients-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 6px;
      gap: 8px;
    }

    .ingredients-title {
      font-size: 15px;
      font-weight: 600;
    }

    .servings-info {
      font-size: 11px;
      color: var(--muted);
      text-align: right;
    }

    .ingredients-list {
      margin-top: 4px;
      border-top: 1px dashed #e1cabe;
      padding-top: 8px;
      transition: border-color 0.3s ease;
    }

    .ingredient-row {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      padding: 3px 0;
      font-size: 14px;
    }

    .ingredient-name { flex: 1.4; }

    .ingredient-dot {
      flex: 0 0 10px;
      height: 1px;
      border-bottom: 1px dotted #d1b8ac;
      margin-top: 12px;
      transition: border-color 0.3s ease;
    }

    .ingredient-amount {
      flex: 0 0 auto;
      text-align: right;
      font-variant-numeric: tabular-nums;
      white-space: nowrap;
    }

    .ingredient-note {
      font-size: 11px;
      color: var(--muted);
      margin-top: 6px;
      line-height: 1.4;
    }

    .actions-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 14px;
    }

    .btn-primary {
      flex: 1;
      min-width: 160px;
      border: none;
      border-radius: 999px;
      padding: 10px 16px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(145deg, #ff7b48, #e44520);
      color: #fff;
      box-shadow: 0 9px 18px rgba(197, 71, 34, 0.45);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      -webkit-tap-highlight-color: transparent;
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), filter var(--transition-fast);
    }

    .btn-primary:active {
      transform: translateY(1px) scale(0.99);
      box-shadow: 0 5px 12px rgba(197, 71, 34, 0.4);
      filter: brightness(0.97);
    }

    .btn-primary-icon {
      font-size: 16px;
      line-height: 1;
      margin-top: -1px;
    }

    .footer-note {
      margin-top: 10px;
      font-size: 11px;
      color: var(--muted);
      text-align: center;
    }

    .steps-panel {
      margin-top: 14px;
      border-radius: 20px;
      background: #fbfafc;
      border: 1px solid #e1d8f3;
      padding: 14px 12px;
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.8);
      max-height: 0;
      opacity: 0;
      overflow: hidden;
      transition: max-height 0.4s ease, opacity 0.3s ease, background 0.3s ease, border-color 0.3s ease;
    }

    @media (min-width: 480px) {
      .steps-panel { padding: 16px 16px; }
    }

    .steps-panel.open {
      max-height: 900px;
      opacity: 1;
    }

    .steps-title {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .steps-sub {
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .step-block { margin-bottom: 8px; }
    .step-block:last-child { margin-bottom: 0; }

    .step-heading {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 3px;
    }

    .step-text {
      font-size: 12px;
      line-height: 1.4;
      color: #4d4038;
    }

    .step-text + .step-text { margin-top: 2px; }

    /* –¢–Å–ú–ù–ê–Ø –¢–ï–ú–ê */
    body.dark-theme {
      --bg-gradient: radial-gradient(circle at top, #17151f 0, #15121b 32%, #100f16 100%);
      --card-bg: rgba(25, 22, 32, 0.96);
      --text-main: #f6f2ee;
      --muted: #a79ca1;
      --border-subtle: #3a3139;
    }

    body.dark-theme {
      color: var(--text-main);
    }

    body.dark-theme .card {
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.7);
    }

    body.dark-theme .badge-strip {
      background: rgba(194, 59, 34, 0.25);
    }

    body.dark-theme .logo-pill {
      box-shadow: 0 12px 26px rgba(0, 0, 0, 0.7);
    }

    body.dark-theme .volume-input-wrap {
      background: #241c24;
      border-color: var(--border-subtle);
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }

    body.dark-theme .slider-wrap input[type="range"] {
      background: #3a3033;
    }

    body.dark-theme .ingredients-card {
      background: #241c26;
      border-color: #3c313a;
    }

    body.dark-theme .ingredients-list {
      border-top-color: #4a3b45;
    }

    body.dark-theme .ingredient-dot {
      border-bottom-color: #4a3b45;
    }

    body.dark-theme .steps-panel {
      background: #201f28;
      border-color: #3b3750;
    }

    body.dark-theme .theme-toggle {
      background: rgba(10, 8, 14, 0.9);
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.6);
    }

    body.dark-theme .theme-thumb {
      background: #272034;
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <div class="card-frame">
      <div class="card">
        <div class="header-top">
          <div class="badge-strip">
            <span class="badge-dot"></span>
            –°—É–ø —Ö–∞—Ä—á–æ ¬∑ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
          </div>
          <div class="theme-toggle-wrap">
            <button
              class="theme-toggle"
              id="themeToggle"
              type="button"
              aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É"
            >
              <span class="theme-option theme-option-left">üåô</span>
              <span class="theme-thumb"></span>
              <span class="theme-option theme-option-right">‚òÄÔ∏è</span>
            </button>
          </div>
        </div>

        <div class="header-row">
          <div class="logo-pill" aria-hidden="true">
            <div class="logo-icon"></div>
          </div>
          <div class="header-text-main">
            <h1>–•–∞—Ä—á–æ –ø–æ–¥ –≤–∞—à—É –∫–∞—Å—Ç—Ä—é–ª—é</h1>
            <div class="header-subtitle">
              –í–≤–µ–¥–∏—Ç–µ –æ–±—ä—ë–º –≥–æ—Ç–æ–≤–æ–≥–æ —Å—É–ø–∞ ‚Äî –ø–æ–ª—É—á–∏—Ç–µ –∏–¥–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∏ –ø–æ—à–∞–≥–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç.
            </div>
          </div>
        </div>

        <div class="section">
          <div class="section-note">
            –í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä—ë–º –≥–æ—Ç–æ–≤–æ–≥–æ —Å—É–ø–∞.
          </div>

          <div class="volume-row">
            <div class="volume-label">–û–±—ä—ë–º —Å—É–ø–∞:</div>
            <div class="volume-input-wrap">
              <input
                type="number"
                id="volumeInput"
                min="2"
                max="10"
                step="0.1"
                value="5.7"
              />
              <span class="volume-unit">–ª</span>
            </div>
          </div>

          <div class="volume-helper">
            –î–æ—Å—Ç—É–ø–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω: –æ—Ç 2 –¥–æ 10 –ª–∏—Ç—Ä–æ–≤ –≥–æ—Ç–æ–≤–æ–≥–æ —Å—É–ø–∞.
          </div>

          <div class="slider-wrap">
            <input
              type="range"
              id="volumeSlider"
              min="2"
              max="10"
              step="0.1"
              value="5.7"
            />
          </div>
        </div>

        <div class="section">
          <div class="ingredients-card">
            <div class="ingredients-header">
              <div class="ingredients-title">–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã</div>
              <div class="servings-info">
                –ü—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ <span id="servings">6</span> –ø–æ—Ä—Ü–∏–π
              </div>
            </div>

            <div class="ingredients-list" id="ingredientsList">
              <!-- JS –≤—Å—Ç–∞–≤–∏—Ç —Å—Ç—Ä–æ–∫–∏ -->
            </div>

            <div class="ingredient-note">
              –ß–µ—Å–Ω–æ–∫ –∏ –ª–∞–≤—Ä–æ–≤—ã–π –ª–∏—Å—Ç —É–∫–∞–∑–∞–Ω—ã –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º (–º–∏–Ω–∏–º—É–º‚Äì–º–∞–∫—Å–∏–º—É–º),
              –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Ç–µ—Å—å –ø–æ —Å–≤–æ–µ–º—É –≤–∫—É—Å—É.
            </div>
          </div>
        </div>

        <div class="section">
          <div class="actions-row">
            <button class="btn-primary" type="button" id="toggleStepsBtn">
              <span class="btn-primary-icon" id="toggleIcon">‚ñæ</span>
              <span id="toggleText">–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—à–∞–≥–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç</span>
            </button>
          </div>
          <div class="footer-note">
            –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç —Ö–∞—Ä—á–æ —Å –≥–æ–≤—è–¥–∏–Ω–æ–π, —Ä–∏—Å–æ–º –∏ —Ç–∫–µ–º–∞–ª–∏.
          </div>
        </div>

        <div class="steps-panel" id="stepsPanel">
          <div class="steps-title">–ü–æ—à–∞–≥–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç —Ö–∞—Ä—á–æ</div>
          <div class="steps-sub">
            –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –≤—ã—à–µ —É–∂–µ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω—ã –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –æ–±—ä—ë–º. –ù–∏–∂–µ ‚Äî –æ–±—â–∞—è —Å—Ö–µ–º–∞ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è.
          </div>

          <div class="step-block">
            <div class="step-heading">1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º—è—Å–∞ –∏ –ª—É–∫–∞</div>
            <div class="step-text">‚Ä¢ –ù–∞—Ä–µ–∂—å—Ç–µ –≥–æ–≤—è–¥–∏–Ω—É –∫—É—Å–æ—á–∫–∞–º–∏, –ø—Ä–∏–º–µ—Ä–Ω–æ 2-3 —Å–º.</div>
            <div class="step-text">‚Ä¢ –õ—É–∫ –æ—á–∏—Å—Ç–∏—Ç–µ –∏ –Ω–∞—Ä–µ–∂—å—Ç–µ –º–µ–ª–∫–∏–º –∫—É–±–∏–∫–æ–º.</div>
            <div class="step-text">‚Ä¢ –ß–µ—Å–Ω–æ–∫ –ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ –æ—á–∏—Å—Ç–∏—Ç–µ ‚Äî –∏–∑–º–µ–ª—å—á–∞—Ç—å –±—É–¥–µ–º –±–ª–∏–∂–µ –∫ –∫–æ–Ω—Ü—É.</div>
          </div>

          <div class="step-block">
            <div class="step-heading">2. –í–∞—Ä–∫–∞ –±—É–ª—å–æ–Ω–∞</div>
            <div class="step-text">‚Ä¢ –ü–æ–ª–æ–∂–∏—Ç–µ –≥–æ–≤—è–¥–∏–Ω—É –≤ –ø–æ–¥—Ö–æ–¥—è—â—É—é –ø–æ —Ä–∞–∑–º–µ—Ä—É –∫–∞—Å—Ç—Ä—é–ª—é.</div>
            <div class="step-text">‚Ä¢ –ó–∞–ª–µ–π—Ç–µ —Ö–æ–ª–æ–¥–Ω–æ–π –≤–æ–¥–æ–π –¥–æ –Ω—É–∂–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è (–æ—Å—Ç–∞–≤—å—Ç–µ –º–µ—Å—Ç–æ –ø–æ–¥ —Ä–∏—Å –∏ –∑–∞–∂–∞—Ä–∫—É).</div>
            <div class="step-text">‚Ä¢ –î–æ–≤–µ–¥–∏—Ç–µ –¥–æ –∫–∏–ø–µ–Ω–∏—è –Ω–∞ —Å–∏–ª—å–Ω–æ–º –æ–≥–Ω–µ, —Å–Ω–∏–º–∏—Ç–µ –≤—Å—é –ø–µ–Ω—É.</div>
            <div class="step-text">‚Ä¢ –£–±–∞–≤—å—Ç–µ –æ–≥–æ–Ω—å –¥–æ —Å–ª–∞–±–æ–≥–æ –∏ –≤–∞—Ä–∏—Ç–µ 1.5‚Äì2 —á–∞—Å–∞, –ø–æ–∫–∞ –º—è—Å–æ –Ω–µ —Å—Ç–∞–Ω–µ—Ç –º—è–≥–∫–∏–º.</div>
            <div class="step-text">‚Ä¢ –í —Å–µ—Ä–µ–¥–∏–Ω–µ –≤–∞—Ä–∫–∏ –º–æ–∂–Ω–æ —Å–ª–µ–≥–∫–∞ –ø–æ–¥—Å–æ–ª–∏—Ç—å –±—É–ª—å–æ–Ω.</div>
          </div>

          <div class="step-block">
            <div class="step-heading">3. –ó–∞–∂–∞—Ä–∫–∞ (–ª—É–∫ + —Ç–æ–º–∞—Ç)</div>
            <div class="step-text">‚Ä¢ –ù–∞ —Å–∫–æ–≤–æ—Ä–æ–¥–µ —Ä–∞–∑–æ–≥—Ä–µ–π—Ç–µ –Ω–µ–º–Ω–æ–≥–æ —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–≥–æ –º–∞—Å–ª–∞.</div>
            <div class="step-text">‚Ä¢ –û–±–∂–∞—Ä—å—Ç–µ –ª—É–∫ –¥–æ –º—è–≥–∫–æ—Å—Ç–∏ –∏ –ª—ë–≥–∫–æ–π –∑–æ–ª–æ—Ç–∏—Å—Ç–æ—Å—Ç–∏.</div>
            <div class="step-text">‚Ä¢ –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–º–∞—Ç–Ω—É—é –ø–∞—Å—Ç—É, —Ö–æ—Ä–æ—à–æ –ø–µ—Ä–µ–º–µ—à–∞–π—Ç–µ –∏ –∂–∞—Ä—å—Ç–µ –µ—â—ë 2‚Äì3 –º–∏–Ω—É—Ç—ã.</div>
            <div class="step-text">‚Ä¢ –î–æ–±–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–æ–≤–Ω–∏–∫–æ–≤ –±—É–ª—å–æ–Ω–∞ –∏–∑ –∫–∞—Å—Ç—Ä—é–ª–∏, –ø—Ä–æ–≥—Ä–µ–π—Ç–µ 3‚Äì5 –º–∏–Ω—É—Ç.</div>
          </div>

          <div class="step-block">
            <div class="step-heading">4. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–∏—Å–∞</div>
            <div class="step-text">‚Ä¢ –ü—Ä–æ–º–æ–π—Ç–µ —Ä–∏—Å –≤ —Ö–æ–ª–æ–¥–Ω–æ–π –≤–æ–¥–µ 3‚Äì4 —Ä–∞–∑–∞, –ø–æ–∫–∞ –≤–æ–¥–∞ –Ω–µ —Å—Ç–∞–Ω–µ—Ç –ø–æ—á—Ç–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π.</div>
            <div class="step-text">‚Ä¢ –û—Å—Ç–∞–≤—å—Ç–µ —Ä–∏—Å –≤ —Å–∏—Ç–µ –∏–ª–∏ –¥—É—Ä—à–ª–∞–≥–µ, —á—Ç–æ–±—ã —Å—Ç–µ–∫–ª–∞ –ª–∏—à–Ω—è—è –≤–æ–¥–∞.</div>
          </div>

          <div class="step-block">
            <div class="step-heading">5. –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ: —Ä–∏—Å, –∑–∞–∂–∞—Ä–∫–∞, —Å–ø–µ—Ü–∏–∏</div>
            <div class="step-text">‚Ä¢ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º—è—Å–æ –≤ –±—É–ª—å–æ–Ω–µ —É–∂–µ –º—è–≥–∫–æ–µ.</div>
            <div class="step-text">‚Ä¢ –í—Å—ã–ø—å—Ç–µ –ø—Ä–æ–º—ã—Ç—ã–π —Ä–∏—Å –≤ –∫–∞—Å—Ç—Ä—é–ª—é, –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –ø–µ—Ä–µ–º–µ—à–∞–π—Ç–µ.</div>
            <div class="step-text">‚Ä¢ –í–∞—Ä–∏—Ç–µ —Ä–∏—Å –≤ –±—É–ª—å–æ–Ω–µ –æ–∫–æ–ª–æ 10‚Äì15 –º–∏–Ω—É—Ç –Ω–∞ —É–º–µ—Ä–µ–Ω–Ω–æ–º –æ–≥–Ω–µ.</div>
            <div class="step-text">‚Ä¢ –î–æ–±–∞–≤—å—Ç–µ –≤ –∫–∞—Å—Ç—Ä—é–ª—é –∑–∞–∂–∞—Ä–∫—É –∏–∑ —Å–∫–æ–≤–æ—Ä–æ–¥—ã –∏ —Å–Ω–æ–≤–∞ –ø–µ—Ä–µ–º–µ—à–∞–π—Ç–µ.</div>
            <div class="step-text">‚Ä¢ –í–ª–µ–π—Ç–µ —Ç–∫–µ–º–∞–ª–∏, –µ—â—ë —Ä–∞–∑ –ø–µ—Ä–µ–º–µ—à–∞–π—Ç–µ.</div>
            <div class="step-text">‚Ä¢ –ó–∞—Å—ã–ø—å—Ç–µ —Ö–º–µ–ª–∏-—Å—É–Ω–µ–ª–∏, –º–æ–ª–æ—Ç—ã–π –∫–æ—Ä–∏–∞–Ω–¥—Ä –∏ –ø–æ–ª–æ–∂–∏—Ç–µ –ª–∞–≤—Ä–æ–≤—ã–π –ª–∏—Å—Ç.</div>
            <div class="step-text">‚Ä¢ –î–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ü –ø–æ –≤–∫—É—Å—É (–º–æ–ª–æ—Ç—ã–π –∏–ª–∏ —Å—Ç—Ä—É—á–æ–∫).</div>
            <div class="step-text">‚Ä¢ –û—Å—Ç–∞–≤—å—Ç–µ —Å—É–ø –∫–∏–ø–µ—Ç—å –µ—â—ë 10‚Äì15 –º–∏–Ω—É—Ç –Ω–∞ —Å–ª–∞–±–æ–º –æ–≥–Ω–µ.</div>
          </div>

          <div class="step-block">
            <div class="step-heading">6. –ß–µ—Å–Ω–æ–∫ –∏ –∑–µ–ª–µ–Ω—å</div>
            <div class="step-text">‚Ä¢ –ú–µ–ª–∫–æ –ø–æ—Ä—É–±–∏—Ç–µ —á–µ—Å–Ω–æ–∫ –∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ —á–µ—Å–Ω–æ–∫–æ–¥–∞–≤–∫—É.</div>
            <div class="step-text">‚Ä¢ –ö–∏–Ω–∑—É –∏ –ø–µ—Ç—Ä—É—à–∫—É –Ω–∞—Ä–µ–∂—å—Ç–µ –º–µ–ª–∫–æ, —á–∞—Å—Ç—å –æ—Å—Ç–∞–≤—å—Ç–µ –¥–ª—è –ø–æ–¥–∞—á–∏.</div>
            <div class="step-text">‚Ä¢ –ó–∞ 5 –º–∏–Ω—É—Ç –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤–∞—Ä–∫–∏ –¥–æ–±–∞–≤—å—Ç–µ —á–µ—Å–Ω–æ–∫ –∏ –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –∑–µ–ª–µ–Ω–∏.</div>
            <div class="step-text">‚Ä¢ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å—É–ø –Ω–∞ —Å–æ–ª—å –∏ –∫–∏—Å–ª–æ—Ç—É; –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ –µ—â—ë —Å–æ–ª–∏ –∏–ª–∏ —Ç–∫–µ–º–∞–ª–∏.</div>
            <div class="step-text">‚Ä¢ –í—ã–∫–ª—é—á–∏—Ç–µ –æ–≥–æ–Ω—å –∏ –¥–∞–π—Ç–µ —Ö–∞—Ä—á–æ –Ω–∞—Å—Ç–æ—è—Ç—å—Å—è –ø–æ–¥ –∫—Ä—ã—à–∫–æ–π 15‚Äì20 –º–∏–Ω—É—Ç.</div>
          </div>

          <div class="step-block">
            <div class="step-heading">7. –ü–æ–¥–∞—á–∞</div>
            <div class="step-text">‚Ä¢ –†–∞–∑–ª–µ–π—Ç–µ —Å—É–ø –ø–æ –≥–ª—É–±–æ–∫–∏–º —Ç–∞—Ä–µ–ª–∫–∞–º.</div>
            <div class="step-text">‚Ä¢ –ü–æ—Å—ã–ø—å—Ç–µ —Å–≤–µ—Ä—Ö—É —Å–≤–µ–∂–µ–π –∑–µ–ª–µ–Ω—å—é.</div>
            <div class="step-text">‚Ä¢ –ü–æ–¥–∞–≤–∞–π—Ç–µ —Å –ª–∞–≤–∞—à–µ–º –∏–ª–∏ —Ö–æ—Ä–æ—à–∏–º —Å–≤–µ–∂–∏–º —Ö–ª–µ–±–æ–º.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const BASE_VOLUME = 5.7;
    const BASE_SERVINGS = 6;

    const baseRecipe = [
      { name: "–ì–æ–≤—è–¥–∏–Ω–∞", unit: "–∫–≥", type: "single", value: 1.5 },
      { name: "–†–∏—Å", unit: "–≥", type: "single", value: 220 },
      { name: "–õ—É–∫", unit: "—à—Ç", type: "singleInt", value: 4 },
      { name: "–ß–µ—Å–Ω–æ–∫", unit: "–∑—É–±—á.", type: "range", min: 7, max: 9 },
      { name: "–¢–æ–º–∞—Ç–Ω–∞—è –ø–∞—Å—Ç–∞", unit: "—Å—Ç. –ª.", type: "single", value: 4 },
      { name: "–¢–∫–µ–º–∞–ª–∏", unit: "—Å—Ç. –ª.", type: "single", value: 6 },
      { name: "–•–º–µ–ª–∏-—Å—É–Ω–µ–ª–∏", unit: "—Å—Ç. –ª.", type: "single", value: 2.5 },
      { name: "–ö–æ—Ä–∏–∞–Ω–¥—Ä –º–æ–ª–æ—Ç—ã–π", unit: "—á. –ª.", type: "single", value: 2.5 },
      { name: "–õ–∞–≤—Ä–æ–≤—ã–π –ª–∏—Å—Ç", unit: "—à—Ç", type: "range", min: 5, max: 6 },
      { name: "–ö–∏–Ω–∑–∞", unit: "–ø—É—á–æ–∫", type: "singleInt", value: 1 },
      { name: "–ü–µ—Ç—Ä—É—à–∫–∞", unit: "–ø—É—á–æ–∫", type: "singleInt", value: 1 }
    ];

    const ingredientsListEl = document.getElementById("ingredientsList");
    const volumeInputEl = document.getElementById("volumeInput");
    const volumeSliderEl = document.getElementById("volumeSlider");
    const servingsEl = document.getElementById("servings");

    const toggleStepsBtn = document.getElementById("toggleStepsBtn");
    const stepsPanel = document.getElementById("stepsPanel");
    const toggleText = document.getElementById("toggleText");
    const toggleIcon = document.getElementById("toggleIcon");

    const themeToggle = document.getElementById("themeToggle");
    const bodyEl = document.body;

    function formatNumber(value, unit) {
      if (unit === "–≥") {
        return Math.round(value) + " " + unit;
      }
      if (unit === "–∫–≥") {
        let v = Math.round(value * 100) / 100;
        return v.toString().replace(/\.00$/, "").replace(/(\.\d)0$/, "$1") + " " + unit;
      }
      if (unit === "—Å—Ç. –ª." || unit === "—á. –ª.") {
        let v = Math.round(value * 10) / 10;
        return v.toString().replace(/\.0$/, "") + " " + unit;
      }
      return Math.round(value) + " " + unit;
    }

    function renderIngredients(volume) {
      const factor = volume / BASE_VOLUME;
      const servings = Math.round(BASE_SERVINGS * factor);
      servingsEl.textContent = servings;

      ingredientsListEl.innerHTML = "";

      baseRecipe.forEach((item) => {
        let textAmount = "";

        if (item.type === "single") {
          const scaled = item.value * factor;
          textAmount = formatNumber(scaled, item.unit);
        } else if (item.type === "singleInt") {
          const scaled = Math.max(1, Math.round(item.value * factor));
          textAmount = scaled + " " + item.unit;
        } else if (item.type === "range") {
          const minScaled = Math.max(1, Math.round(item.min * factor));
          const maxScaled = Math.max(minScaled, Math.round(item.max * factor));
          if (minScaled === maxScaled) {
            textAmount = minScaled + " " + item.unit;
          } else {
            textAmount = minScaled + "‚Äì" + maxScaled + " " + item.unit;
          }
        }

        const row = document.createElement("div");
        row.className = "ingredient-row";

        const nameEl = document.createElement("div");
        nameEl.className = "ingredient-name";
        nameEl.textContent = item.name;

        const dotsEl = document.createElement("div");
        dotsEl.className = "ingredient-dot";

        const amountEl = document.createElement("div");
        amountEl.className = "ingredient-amount";
        amountEl.textContent = textAmount;

        row.appendChild(nameEl);
        row.appendChild(dotsEl);
        row.appendChild(amountEl);

        ingredientsListEl.appendChild(row);
      });
    }

    function syncFromInput() {
      let value = parseFloat((volumeInputEl.value || "").toString().replace(",", "."));
      if (isNaN(value)) value = BASE_VOLUME;
      if (value < 2) value = 2;
      if (value > 10) value = 10;
      volumeInputEl.value = value.toFixed(1).replace(".0", "");
      volumeSliderEl.value = value;
      renderIngredients(value);
    }

    function syncFromSlider() {
      const value = parseFloat(volumeSliderEl.value);
      volumeInputEl.value = value.toFixed(1).replace(".0", "");
      renderIngredients(value);
    }

    function setTheme(isDark) {
      bodyEl.classList.toggle("dark-theme", isDark);
      themeToggle.classList.toggle("is-dark", isDark);
    }

    // –£—á–∏—Ç—ã–≤–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—É—é —Ç–µ–º—É –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏
    const prefersDark = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
    setTheme(prefersDark);

    volumeInputEl.addEventListener("input", syncFromInput);
    volumeSliderEl.addEventListener("input", syncFromSlider);

    toggleStepsBtn.addEventListener("click", () => {
      const isOpen = stepsPanel.classList.toggle("open");
      if (isOpen) {
        toggleText.textContent = "–°–∫—Ä—ã—Ç—å –ø–æ—à–∞–≥–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç";
        toggleIcon.textContent = "‚ñ¥";
      } else {
        toggleText.textContent = "–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—à–∞–≥–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç";
        toggleIcon.textContent = "‚ñæ";
      }
    });

    themeToggle.addEventListener("click", () => {
      const isDark = !bodyEl.classList.contains("dark-theme");
      setTheme(isDark);
    });

    renderIngredients(BASE_VOLUME);
  </script>
</body>
</html>
